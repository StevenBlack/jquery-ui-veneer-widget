(function(d){d.extend(d.expr[":"],{headerBelow:function(a,b,c){if(/h\d/i.test(a.nodeName)){b="h["+(parseInt(c[3],10)+1)+"-5]";return RegExp(b,"i").test(a.nodeName)}return false},headerAbove:function(a,b,c){if(/h\d/i.test(a.nodeName)){b="h[1-"+(parseInt(c[3],10)-1||1)+"]";return RegExp(b,"i").test(a.nodeName)}return false}});d.widget("ui.veneer",{options:{uiBorder:true,collapsed:false,collapsible:false,collapseSpeed:500,headers:[],icons:{collapsed:"ui-icon-triangle-1-e",open:"ui-icon-triangle-1-s"},
instanceClasses:{content:"",title:"",header:""},classes:{veneer:"ui-veneer ui-veneer-content ui-veneer-header ui-widget ui-widget-content ui-state-default ui-corner-all ui-veneer-clickable ui-veneer-noUiBorder ui-helper-reset",widget:"ui-veneer ui-widget ui-widget-content",content:"ui-veneer-content",title:"ui-veneer-header ui-veneer-title ui-state-default ui-helper-reset",header:"ui-veneer-header ui-state-default"},roundCorners:true,title:"",titleAttr:false,headersHierarchy:true},_create:function(){var a=
this,b=a.options,c=b.classes,e=b.instanceClasses,h=b.title||(b.titleAttr?this.element.attr("title"):""),g=b._touched={newElement:[],newWrapper:[],adorned:[]},k=a.element.is(":header"),i;i=k?parseInt(a.element[0].nodeName.substring(1),10):0;a.uiVeneer=this;if(b.roundCorners){c.widget+=" ui-corner-all";c.header+=" ui-corner-all";c.title+=" ui-corner-all";c.content+=" ui-corner-all"}var f=d("<div />").addClass((c.content+" "+e.content).trim());if(b.headersHierarchy&&k&&i){a=this;b=a.options;c=b.classes;
e=b.instanceClasses;h=d("<div />").addClass((c.widget+" "+e.widget).trim());lowerLevelMax=i+1||1;b.uiBorder||h.addClass("ui-veneer-noUiBorder");if(b.collapsible&&a.element.children().length===0){a.element.addClass("ui-veneer-clickable");a.element.wrapInner('<a href="#" />');g.newWrapper.push(a.element.children().eq(0))}a.element.addClass((c.header+" "+e.header).trim());g.adorned.push(a.element);if(b.collapsible){d("<span/>").addClass("ui-icon "+b.icons.open).prependTo(a.element);g.newElement.push(a.element.find("span.ui-icon"));
a.element.bind("click.veneer",function(j,l){a._clickHandler.call(a,j,this,l);j.preventDefault()})}c=this.element.nextUntil(":headerAbove("+lowerLevelMax+")");c.wrapAll(f);g.newWrapper.push(c.eq(0).parent());f=this.element.nextUntil(":headerAbove("+lowerLevelMax+")").andSelf();f.wrapAll(h);g.newWrapper.push(f.eq(0).parent());b.collapsible&&b.collapsed&&a.element.trigger("click.veneer",[{collapseSpeed:0}])}else{i=a.element.children().detach();a.element.addClass((c.widget+" "+e.widget).trim());b.uiBorder||
a.element.addClass("ui-veneer-noUiBorder");g.adorned.push(a.element);h&&a._createTitleBar(h);f.append(i);a.element.append(f);g.newWrapper.push(f);if(b.headers[0]){f=b.headers.join(",");a.element.find(f).each(function(){var j=d(this);j.veneer(b);g.adorned.push(j)})}}},_init:function(){},destroy:function(){for(var a=this.options,b=this.element,c=a._touched;c.newElement.length;)c.newElement.pop().remove();for(;c.adorned.length;)c.adorned.pop().removeClass(a.classes.veneer);for(;c.newWrapper.length;){var e=
c.newWrapper.pop();e.replaceWith(e[0].childNodes)}b.unbind(".veneer").removeClass(a.classes.veneer).removeData("veneer");d.Widget.prototype.destroy.call(this)},_clickHandler:function(a,b,c){c=d.extend({},this.options,c);var e=c.icons;if(!(c.disabled||!c.collapsible)){b=d(a.currentTarget);b.next().slideToggle(c.collapseSpeed);b.children(".ui-icon").toggleClass(e.collapsed).toggleClass(e.open)}},_setOption:function(a,b){d.Widget.prototype._setOption.apply(this,arguments);var c=this.uiVeneer.element;
a==="title"&&this._createTitleBar(b);if(a==="uiBorder")b?c.removeClass("ui-veneer-noUiBorder"):c.addClass("ui-veneer-noUiBorder");d.Widget.prototype._setOption.apply(this,arguments)},_createTitleBar:function(a){if(!this.uiVeneerTitlebar){var b=this.options,c=b.classes,e=b.instanceClasses,h=d.ui.veneer.getTitleId(this.element);c=(this.uiVeneerTitlebar=d("<div></div>")).addClass((c.title+" "+e.title).trim());this.uiVeneerTitle=d("<span></span>").addClass("ui-dialog-title").attr("id",h).prependTo(c);
c.prependTo(this.element);b._touched.newElement.push(c)}a=a||"&#160;";this.uiVeneerTitle.html(a);this.uiVeneerTitlebar.show()},showTitle:function(a){if(typeof a==="undefined")a=true;if(this.uiVeneerTitlebar)a?this.uiVeneerTitlebar.show():this.uiVeneerTitlebar.hide()},collapse:function(a,b){if(typeof a==="object")b=a;var c=d.extend({},this.options,b);if(c.collapsible){var e=this.element.next().is(":visible");if(typeof a==="undefined")a=true;if(a&&e||!a&&!e)this.element.trigger("click.veneer",[c])}}})})(jQuery);
$.extend($.ui.veneer,{version:"@VERSION",uuid:0,getTitleId:function(d){return"ui-dialog-title-"+(d.attr("id")||++this.uuid)}});